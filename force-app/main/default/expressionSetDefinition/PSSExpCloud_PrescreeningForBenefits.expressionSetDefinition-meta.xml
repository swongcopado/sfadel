<?xml version="1.0" encoding="UTF-8"?>
<ExpressionSetDefinition xmlns="http://soap.sforce.com/2006/04/metadata">
    <label>PSSExpCloud_PrescreeningForBenefits</label>
    <processType>Bre</processType>
    <template>false</template>
    <versions>
        <fullName>PSSExpCloud_PrescreeningForBenefits_V1</fullName>
        <description>Determines if a requester is eligible for a benefit by verifying their citizenship status and the number of members in the household.</description>
        <expressionSetDefinition>PSSExpCloud_PrescreeningForBenefits</expressionSetDefinition>
        <label>PSSExpCloud_PrescreeningForBenefits</label>
        <processType>Bre</processType>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <startDate>2023-01-01T08:00:00.000Z</startDate>
        <status>Active</status>
        <steps>
            <label>Calculate Household Poverty Limit</label>
            <name>CalculateHouseholdPovertyLimit</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>3</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>Branch</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>PrescreeningForBenefits_PovertyGuideline__AnnualIncomeLimit</assignedParameter>
                <expression>( NumberOfHouseholdOccupants - HouseholdMembersLimit ) * PovertyAmountPerHouseholdMember + PrescreeningForBenefits_PovertyGuideline__AnnualIncomeLimit</expression>
            </assignment>
            <label>Calculate Poverty Amount Limit for Large Households</label>
            <name>CalculatePovertyAmountLimitforLargeHouseholds</name>
            <parentStep>VerifyIfHouseholdMembersAreOverSetLimitandAreValidCitizens</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>3</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>NumberOfHouseholdMembers</assignedParameter>
                <expression>NumberOfHouseholdOccupants</expression>
            </assignment>
            <label>Compute Total Number of Household Members</label>
            <name>ComputeTotalNumberofHouseholdMembers</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>GetOutputsFromDecisionMatrix</actionType>
            <decisionTable>
                <decisionTableName>PrescreeningForBenefits_PovertyGuideline</decisionTableName>
                <type>DecisionMatrix</type>
            </decisionTable>
            <label>Poverty Guideline For Large Households</label>
            <name>PovertyGuidelineForLargeHouseholds</name>
            <parentStep>VerifyIfHouseholdMembersAreOverSetLimitandAreValidCitizens</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>GetOutputsFromDecisionMatrix</actionType>
            <decisionTable>
                <decisionTableName>PrescreeningForBenefits_PovertyGuideline</decisionTableName>
                <type>DecisionMatrix</type>
            </decisionTable>
            <label>Poverty Guideline for Small Households</label>
            <name>PovertyGuidelineforSmallHouseholds</name>
            <parentStep>VerifyMembersCitizenship4</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>NumberOfHouseholdMembers</assignedParameter>
                <expression>HouseholdMembersLimit</expression>
            </assignment>
            <label>Reset the Total Number Of Household Members</label>
            <name>ResettheTotalNumberOfHouseholdMembers</name>
            <parentStep>VerifyIfHouseholdMembersAreOverSetLimitandAreValidCitizens</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <advancedCondition>
                <conditionLogic>1 AND 2</conditionLogic>
                <criteria>
                    <operator>Equals</operator>
                    <sequenceNumber>1</sequenceNumber>
                    <sourceFieldName>IsValidCitizen</sourceFieldName>
                    <value>true</value>
                    <valueType>Literal</valueType>
                </criteria>
                <criteria>
                    <operator>GreaterThan</operator>
                    <sequenceNumber>2</sequenceNumber>
                    <sourceFieldName>NumberOfHouseholdOccupants</sourceFieldName>
                    <value>HouseholdMembersLimit</value>
                    <valueType>Parameter</valueType>
                </criteria>
                <resultParameter>condition_output__2</resultParameter>
            </advancedCondition>
            <label>Verify If Household Members Are Over Set Limit and Are Valid Citizens</label>
            <name>VerifyIfHouseholdMembersAreOverSetLimitandAreValidCitizens</name>
            <parentStep>CalculateHouseholdPovertyLimit</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>AdvancedCondition</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>IsEligibleForBenefits</assignedParameter>
                <expression>IsValidCitizen &amp;&amp; ( AnnualIncomeOfHousehold &lt;= PrescreeningForBenefits_PovertyGuideline__AnnualIncomeLimit )</expression>
            </assignment>
            <label>Verify If the Household Is Eligible for Benefits</label>
            <name>VerifyIftheHouseholdIsEligibleforBenefits</name>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>4</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>IsValidCitizen</assignedParameter>
                <expression>CitizenshipStatus == USCitizen || CitizenshipStatus == USNational || CitizenshipStatus == ValidNonUSCitizen</expression>
            </assignment>
            <label>Verify Member&apos;s Citizenship</label>
            <name>VerifyMembersCitizenship</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <advancedCondition>
                <conditionLogic>1 AND 2</conditionLogic>
                <criteria>
                    <operator>Equals</operator>
                    <sequenceNumber>1</sequenceNumber>
                    <sourceFieldName>IsValidCitizen</sourceFieldName>
                    <value>true</value>
                    <valueType>Literal</valueType>
                </criteria>
                <criteria>
                    <operator>LessThanOrEquals</operator>
                    <sequenceNumber>2</sequenceNumber>
                    <sourceFieldName>NumberOfHouseholdOccupants</sourceFieldName>
                    <value>HouseholdMembersLimit</value>
                    <valueType>Parameter</valueType>
                </criteria>
                <resultParameter>condition_output__1</resultParameter>
            </advancedCondition>
            <label>Verify Member&apos;s Citizenship</label>
            <name>VerifyMembersCitizenship4</name>
            <parentStep>CalculateHouseholdPovertyLimit</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>AdvancedCondition</stepType>
        </steps>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>AnnualIncomeOfHousehold</description>
            <input>true</input>
            <name>AnnualIncomeOfHousehold</name>
            <output>false</output>
            <type>Variable</type>
            <value>0</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>CitizenshipStatus</description>
            <input>true</input>
            <name>CitizenshipStatus</name>
            <output>false</output>
            <type>Variable</type>
            <value>US Citizen</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>0</decimalPlaces>
            <description>HouseholdMembersLimit</description>
            <input>false</input>
            <name>HouseholdMembersLimit</name>
            <output>false</output>
            <type>Constant</type>
            <value>8</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>IsEligibleForBenefits</description>
            <input>false</input>
            <name>IsEligibleForBenefits</name>
            <output>true</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>IsValidCitizen</description>
            <input>false</input>
            <name>IsValidCitizen</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>9</decimalPlaces>
            <input>false</input>
            <lookupName>PrescreeningForBenefits_PovertyGuideline</lookupName>
            <lookupType>DecisionMatrix</lookupType>
            <name>NumberOfHouseholdMembers</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>0</decimalPlaces>
            <description>NumberOfHouseholdOccupants</description>
            <input>true</input>
            <name>NumberOfHouseholdOccupants</name>
            <output>false</output>
            <type>Variable</type>
            <value>0</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>PovertyAmountPerHouseholdMember</description>
            <input>false</input>
            <name>PovertyAmountPerHouseholdMember</name>
            <output>false</output>
            <type>Constant</type>
            <value>6810</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <decimalPlaces>2</decimalPlaces>
            <input>false</input>
            <lookupName>PrescreeningForBenefits_PovertyGuideline</lookupName>
            <lookupType>DecisionMatrix</lookupType>
            <name>PrescreeningForBenefits_PovertyGuideline__AnnualIncomeLimit</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>USCitizen</description>
            <input>false</input>
            <name>USCitizen</name>
            <output>false</output>
            <type>Constant</type>
            <value>USCitizen</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>USNational</description>
            <input>false</input>
            <name>USNational</name>
            <output>false</output>
            <type>Constant</type>
            <value>USNational</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>ValidNonUSCitizen</description>
            <input>false</input>
            <name>ValidNonUSCitizen</name>
            <output>false</output>
            <type>Constant</type>
            <value>ValidNonUSCitizen</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__1</description>
            <input>false</input>
            <name>condition_output__1</name>
            <output>false</output>
            <resultStep>VerifyMembersCitizenship4</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__2</description>
            <input>false</input>
            <name>condition_output__2</name>
            <output>false</output>
            <resultStep>VerifyIfHouseholdMembersAreOverSetLimitandAreValidCitizens</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <versionNumber>1</versionNumber>
    </versions>
</ExpressionSetDefinition>
